<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link th:href="@{/css/bootstrap.css}" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
            integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
            integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V"
            crossorigin="anonymous"></script>
    <title>TODO</title>
</head>
<body class="bg-img">
<div class="container">
    <form class="mt-3" th:action="@{/done}" method="post" enctype="multipart/form-data">
        <div class="d-grid gap-3">
            <div>
                <h5>Заголовок</h5>
            </div>
            <div class="border border-warning border-3 bg-light mt-3 row">
                <h3 th:text="${task.title}"></h3>
            </div>
            <div class="mt-3">
                <h5>Описание</h5>
            </div>
            <div class="border border-warning border-3 bg-light mt-3 row">
                <p th:text="${task.description}"></p>
            </div>
            <div class="mt-3">
                <h5>Создано:</h5>
            </div>
            <div class="border border-warning border-3 bg-light mt-3 row">
                <p th:text="${task.created}"></p>
            </div>
            <div class="border border-warning border-3 bg-light mt-3 row">
                <p class="col">Статус задания:</p>
                <p class="col" th:if="${task.done}">Выполнено</p>
                <p class="col" th:if="${!task.done}">Актуально</p>
                <p class="col"></p>
                <p class="col"></p>
                <p class="col"></p>
            </div>
            <div class="mt-3">
                <h5>Категории</h5>
            </div>
            <div class="border border-warning border-3 bg-light mt-3 row">
                <div class="col" th:each="category : ${task.category}">
                <p th:text="${category.name}"></p>
                </div>
            </div>
            <input type="hidden" name="id" th:value="${task.id}">
            <input type="hidden" name="title" th:value="${task.title}">
            <input type="hidden" name="description" th:value="${task.description}">
            <input type="hidden" name="done" th:value="${!task.done}">
        </div>
        <div class="row mt-3">
            <div class="col" th:if="${!task.done}">
                <button class="btn btn-success w-100" type="submit">Выполнено</button>
            </div>
            <div class="col" th:if="${task.done}"></div>
            <div class="col" th:if="${!task.done}">
                <a class="btn btn-primary w-100" th:href="@{/edite/{taskId}(taskId=${task.getId()})}">Редактировать</a>
            </div>
            <div class="col" th:if="${task.done}"></div>
            <div class="col">
                <a class="btn btn-danger w-100" th:href="@{/delete/{taskId}(taskId=${task.getId()})}">Удалить</a>
            </div>
        </div>
    </form>
</div>
</body>
</html>